```
#include <bits/stdc++.h>
using namespace std;
using pii = pair<int, int>;

pii jwrl[300001];
int bag[300001];
int isFull[300001];

int n, k, m, v, c;

void init()
{
    cin >> n >> k;
    for (int i=0; i<n; i++) cin >> jwrl[i].first >> jwrl[i].second;
    for (int i=0; i<k; i++) cin >> bag[i];
    
    // 보석을 가격순으로 정렬, 가격이 같다면 무게가 가벼운 순으로 정렬.
    sort(jwrl, jwrl+n, [](const pii& a, const pii& b)
    {
        if (a.second == b.second) return a.first < b.first;
        return a.second < b.second;
    });
    
    // 가방 무게 순으로 오름차순 정렬.
    sort(bag, bag+n);
}

int solve()
{
    int res = 0;
    for (int i=0; i<n; i++)
    {
        for (int j=0; j<k; j++)
        {
            if (jwrl[i].first < bag[j] && !isFull[j])
            {
                res += jwrl[i].second;
                isFull[j] = 1;
            }
        }
    }
    
    return res;
}

int main()
{
    ios::sync_with_stdio(0);
    cin.tie(0);
    
    init();
    
    cout << solve();
  
    return 0;
}
```
